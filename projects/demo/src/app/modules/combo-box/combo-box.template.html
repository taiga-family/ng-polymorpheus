<app-input
    [content]="icon"
    [placeholder]="placeholder()"
    [value]="string()"
    (focusout)="open.set(false)"
    (keydown.arrowDown)="open.set(true)"
    (valueChange)="onValueChange($event)"
/>
@if (open()) {
    <app-menu
        class="menu"
        [content]="content()"
        [emptyContent]="emptyContent()"
        [items]="filtered()"
        (itemClicked)="onItemClicked($event)"
        (mousedown)="$event.preventDefault()"
    />
}
<ng-template #icon>
    <svg
        height="24"
        viewBox="0 0 24 24"
        width="24"
        xmlns="http://www.w3.org/2000/svg"
        class="icon"
        [class.icon_opened]="open()"
        (click)="open.set(!open())"
    >
        <polyline
            fill="none"
            points="7,10 12,15 17,10"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
        />
    </svg>
</ng-template>
